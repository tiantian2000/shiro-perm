<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <title>
     Shiro权限系统
    </title>
    <!--<link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700" media="all" rel="stylesheet" type="text/css" />-->
	<link th:href="@{/se7en/stylesheets/bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/se7en/stylesheets/font-awesome.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/se7en/stylesheets/se7en-font.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/se7en/stylesheets/style.css}" rel="stylesheet" type="text/css" />
	<script th:src="@{/se7en/javascripts/jquery.min.js}" type="text/javascript"></script>
	<script th:src="@{/se7en/javascripts/jquery-ui.js}" type="text/javascript"></script>
	<script th:src="@{/se7en/javascripts/bootstrap.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/raphael.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.mousewheel.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.vmap.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.vmap.sampledata.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.vmap.world.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.bootstrap.wizard.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/fullcalendar.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/gcal.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.dataTables.min.js}" type="text/javascript"></script>

	<script th:src="@{/se7en/javascripts/datatable-editable.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.easy-pie-chart.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/excanvas.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.isotope.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/masonry.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/modernizr.custom.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.fancybox.pack.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/select2.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/styleswitcher.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/wysiwyg.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.inputmask.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.validate.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/bootstrap-fileupload.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/bootstrap-datepicker.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/bootstrap-timepicker.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/bootstrap-colorpicker.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/bootstrap-switch.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/daterange-picker.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/date.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/morris.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/skycons.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/jquery.sparkline.min.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/fitvids.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/main.js}" type="text/javascript"></script>
    <script th:src="@{/se7en/javascripts/respond.js}" type="text/javascript"></script>
    <style>
    	.logo {
    		margin:0 auto 20px auto;
    		width: 200px;
     		background: url("images/logo.png") no-repeat left center;
    		background-size: 48px 48px;
    		padding-left:40px;    		
    	}
    	.logo .label {    	 	
    		font-size: 18px;
    		border-radius: 5px;
    		font-weight: bold;
    	}
    </style>
  </head>
   <body class="login1">
    <!-- Login Screen -->
    <div class="login-wrapper">
      <div class="login-container">
        <h2 class="logo"><span class="label label-primary">Shiro权限系统</span></h2>
       
          <div class="form-group">
            <input class="form-control" name="username" id="username" placeholder="用户名" type="text">
          </div>
          <div class="form-group">
            <input class="form-control" name="password" id="password" placeholder="密码" type="text">
              <input type="button" onclick="postData();" value="&#xf054;">
          </div>
          <div class="form-options clearfix">
            <a class="pull-right" href="#">忘记密码?</a>
            <div class="text-left">
              <label class="checkbox"><input type="checkbox" id="rememberMe" name="rememberMe"><span>记住我</span></label>
            </div>
          </div>
 
          <div class="social-login clearfix">
              <span class="label label-danger" id="mymsg" ></span>
          </div>
        <p class="signup">
          还没有帐户? <a href="javascript:void(0)" onclick="register()">注册</a>
        </p>
      </div>
    </div>
    <!-- End Login Screen -->
  </body>
<script type="text/javascript">

    function postData(){
        var username = $('#username').val();
        var password = $('#password').val();
        var rememberMe = $('#rememberMe').val();
        $.getJSON('login',{username:username,password:password,rememberMe:rememberMe},function(res){
        	console.log(res);
        	if(res.data == 0){
                location.href = 'main';
            }else if(res.data==1){
                $('#mymsg').html('用户名错误!');
            }else{
            	$('#mymsg').html('密码错误!');
            }
        });
    }
    
    function register(){
    	var username = $('#username').val();
        var password = $('#password').val();
        var repassword = $('#repassword').val();
        if($.isEmptyObject(username)){
          $('#mymsg').html('请输入用户名!');
          return;
        }
        if($.isEmptyObject(password)){
          $('#mymsg').html('请输入密码!');
          return;
        }
        $.getJSON('register',{
            username:username,
            password:password
          },function(res){
             if(res.data == 200){ //注册成功
               $('#mymsg').html('注册成功,请登录!');
             }else if(res.data == -1){
               $('#mymsg').html('用户名已存在!');
             }else{
               $('#mymsg').html('操作失败!');
             }
          });

    }
 </script>
 </html>